<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Simulatore Gestione Separata INPS 2025</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: 30px auto; padding: 0 15px; }
    h1 { text-align: center; margin-bottom: 20px; }
    label, select, input, button { display: block; width: 100%; margin: 10px 0; }
    button { padding: 10px; font-size: 16px; }
    .output, .explanation { margin-top: 20px; padding: 15px; border-radius: 8px; }
    .output { background: #f4f4f4; }
    .explanation { background: #eef; }
    ul { margin: 5px 0 0 20px; }
  </style>
</head>
<body>

  <h1>Simulatore Gestione Separata INPS 2025</h1>

  <label for="fatturato">Fatturato annuo (€):</label>
  <input type="number" id="fatturato" placeholder="es. 30000" />

  <label for="coeff">Coefficiente di redditività (%):</label>
  <select id="coeff">
    <option value="78">78%</option>
    <option value="86">86%</option>
    <option value="40">40%</option>
    <option value="67">67%</option>
  </select>

  <label for="aliquota">Aliquota imposta sostitutiva:</label>
  <select id="aliquota">
    <option value="5">5% (start-up)</option>
    <option value="15">15% (standard)</option>
  </select>

  <button onclick="calcola()">Calcola</button>

  <div class="output" id="risultato"></div>
  <div class="explanation" id="spiegazione"></div>

  <script>
    function calcola() {
      const fatt = parseFloat(document.getElementById("fatturato").value);
      const coeff = parseFloat(document.getElementById("coeff").value) / 100;
      const aliImp = parseFloat(document.getElementById("aliquota").value) / 100;
      if (!fatt || fatt <= 0) { alert("Inserisci un fatturato valido."); return; }

      // 1) Reddito imponibile
      const reddito = fatt * coeff;

      // 2) Contributi Gestione Separata: 26,07% sul reddito imponibile
      const aliContrib = 0.2607;
      const contrib = reddito * aliContrib;

      // 3) Acconti contributi: 80% del totale, divisi in 2 quote uguali
      const accontoTot = contrib * 0.8;
      const acconto1_contrib = accontoTot / 2;
      const acconto2_contrib = accontoTot / 2;

      // 4) Imposta sostitutiva flat sul reddito imponibile
      const imposta = reddito * aliImp;
      const acconto1_imp = imposta * 0.5;
      const acconto2_imp = imposta * 0.5;

      // 5) Output
      document.getElementById("risultato").innerHTML = `
        <p><strong>Reddito imponibile:</strong> € ${reddito.toFixed(2)}</p>
        <p><strong>Contributi (26,07%):</strong> € ${contrib.toFixed(2)}</p>
        <p><strong>Imposta sostitutiva (${(aliImp*100).toFixed(0)}%):</strong> € ${imposta.toFixed(2)}</p>
        <hr>
        <p><strong>Scadenze e versamenti 2026:</strong></p>
        <ul>
          <li><em>30 giugno 2026</em>: 
            <ul>
              <li>Saldo contributi (€${contrib.toFixed(2)})</li>
              <li>1&ordm; acconto contributi (€${acconto1_contrib.toFixed(2)})</li>
              <li>1&ordm; acconto imposta (€${acconto1_imp.toFixed(2)})</li>
            </ul>
          </li>
          <li><em>30 novembre 2026</em>:
            <ul>
              <li>2&ordm; acconto contributi (€${acconto2_contrib.toFixed(2)})</li>
              <li>2&ordm; acconto imposta (€${acconto2_imp.toFixed(2)})</li>
            </ul>
          </li>
        </ul>
      `;

      // 6) Spiegazione
      document.getElementById("spiegazione").innerHTML = `
        <p><strong>Perché versi i contributi:</strong> la Gestione Separata richiede un contributo pari al 26,07% del reddito imponibile, 
        calcolato applicando il coefficiente di redditività agli incassi (€${(coeff*100).toFixed(0)}% del fatturato). 
        Gli acconti (80% del contributo annuo) sono divisi in due rate per consentire un flusso di cassa più uniforme.</p>

        <p><strong>Perché versi l’imposta sostitutiva:</strong> nel regime forfettario l’IRPEF e le addizionali sono sostituite da una flat tax al 5% o 15% 
        sul reddito imponibile. L’acconto è il 50% dell’imposta dovuta, versato in due rate.</p>

        <p><strong>Scadenze:</strong> 
        il 30 giugno si pagano il saldo e la prima rata di acconto, il 30 novembre si completa il versamento con la seconda rata.</p>
      `;
    }
  </script>

</body>
</html>
